"use strict";(("undefined"!=typeof self?self:global).webpackChunkclient_web=("undefined"!=typeof self?self:global).webpackChunkclient_web||[]).push([[179],{85917:(e,n,a)=>{a.d(n,{k:()=>o});var t=a(67294),i=a.n(t),l=a(28248),r=a(42922),d=a(20657),s=a(76343);const c="hSAiGCFIAwHrQOvne4nT",o=({nrTracks:e,initialTracks:n,usePlayContextItem:a})=>{const[o,m]=(0,t.useState)(!1),u=(0,t.useCallback)((()=>{m(!o)}),[o]),k=(0,t.useCallback)((({uri:e,contextUri:n,totalMilliseconds:t,name:r,artists:d,contentRating:s,isPlayable:c,playcount:o,imageUrl:m,albumUri:u},k)=>i().createElement(l.l0,{key:e,index:k,uri:e,contextUri:n,totalMilliseconds:t,name:r,artists:d,isPlayable:c,contentRating:s,playcount:o||0,imageUrl:m,albumUri:u,usePlayContextItem:a})),[a]),S=(0,t.useCallback)((e=>e.uri),[]),v=(0,t.useMemo)((()=>[l.QD.INDEX,l.QD.TITLE,l.QD.PLAYS,l.QD.DURATION]),[]);return i().createElement(r.ZP,{value:"artist-popular-tracks-list"},i().createElement(l.Pv,{ariaLabel:d.ag.get("tracklist.popular-tracks"),renderRow:k,nrTracks:Math.min(e,o?10:5),tracks:n,resolveUri:S,columns:v}),e>5?i().createElement("button",{"aria-expanded":o,className:c,onClick:u},i().createElement(s.Dy,{as:"div",variant:s.Dy.minuetBold},o?d.ag.get("artist-page.tracks.showless"):d.ag.get("artist-page.tracks.seemore"))):null)}},90983:(e,n,a)=>{a.r(n),a.d(n,{Track:()=>Sn,default:()=>vn});var t=a(67294),i=a.n(t),l=a(47886),r=a(44137),d=a(1663),s=a(42273),c=a(59482);const o="K8Q6RRP1i2iZyDkMtSBl",m="R0o_FTBRWb2Vk_W83NkJ",u="oYv6X8WcMRe_2fOp7QRU";var k=a(55120),S=a(55911),v=a(80322),p=a(84242),N=a(72907),E=a(32626),g=a(86213),y=a(20657),h=a(69518),b=a.n(h),F=a(30947),I=a(4383),_=a(56802),f=a(11414),A=a(4236),w=a(90110),L=a(95661),O=a(94233),Z=a(8247),C=a(18061),R=a(68569),T=a(42811),D=a(7073),U=a(98984);const P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackFields"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbum"}}]}},{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"singles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"trackItem"}}]}},{kind:"Field",name:{kind:"Name",value:"albums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"trackItem"}}]}},{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albums"}}]}},{kind:"Field",name:{kind:"Name",value:"topTracks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"0"}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"10"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"topTracks"}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackNumber"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbumCoverArt"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackAlbumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumGroupPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"releases"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"albums"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"albums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbum"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"topTracks"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"topTrack"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"topTrack"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artists"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackAlbumCoverArt"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"previews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audioPreviews"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},x="__YP_raZgiING_9hPds0",M="lIMzJP8iZQiV3UQrBUtY",j="MqSXfrqW44Wv4VPc3eM_",V="x2LzVAv8V0qsusT7wELT",B="tdbCqrHFPl_yUnBAuzac",G="_jpOnqTYN_Hv6M2iHY_u",z="pxqGiyjGA7BLEA20ION3";var Q=a(78688),Y=a(48528),W=a(76343),H=a(94184),$=a.n(H),q=a(44887),J=a(42781),X=a(7469);let K;!function(e){e.SMALL="small",e.LARGE="large"}(K||(K={}));const ee=({art:e,disabled:n=!1,LinkComponent:a,name:t,size:r=K.SMALL,type:d,uri:s})=>{const c=e?[e]:[],o=r===K.SMALL?(0,Y.R)(d):function(e){switch(e){case Q.albumType.SINGLE:return y.ag.get("track-page.from-the-single");case Q.albumType.EP:return y.ag.get("track-page.from-the-ep");case Q.albumType.COMPILATION:return y.ag.get("track-page.from-the-compilation");case Q.albumType.ALBUM:default:return y.ag.get("track-page.from-the-album")}}(d),m=(0,l.k6)();return i().createElement("div",{className:$()(x,{[j]:r===K.SMALL,[M]:n})},i().createElement("div",{className:V},i().createElement(q.O,{images:c,size:X.m$.SIZE_80,title:t,type:J.p.ALBUM})),i().createElement("div",{className:B},i().createElement(W.Dy,{variant:r===K.SMALL?W.Dy.minuetBold:W.Dy.finale},o),i().createElement(a,{to:s},i().createElement(W.Dy,{as:"div",className:G,variant:W.Dy.balladBold,dir:"auto"},t))),i().createElement("div",{onClick:()=>{m.push(b().from(s).toURLPath(!0))},className:z}))};var ne=a(67892),ae=a(85917),te=a(41734),ie=a(36685),le=a(75987);const re=({richTrack:e})=>{var n;const a=(0,l.k6)(),r=(0,t.useCallback)((()=>new URLSearchParams(a.location.search.slice(1)).get("highlight")||""),[a.location.search])(),{tracklistRef:d}=(0,le.W)(),s=e.album,c=(0,v.Y)(s.uri),{usePlayContextItem:o}=(0,p.n)({uri:c},{featureIdentifier:"album"}),m=(0,t.useMemo)((()=>({items:[],total_count:0})),[]);return s?i().createElement("div",{ref:d,className:te.Z.tracklist},i().createElement(ie.L,{ariaLabel:s.name,nrTracks:null===(n=s.tracks)||void 0===n?void 0:n.totalCount,albumUri:s.uri,highlightUri:r,discs:m,usePlayContextItem:o,hasHeaderRow:!1})):null};var de=a(42922),se=a(19480),ce=a(13768);const oe=({album:e,index:n,artistURI:a})=>i().createElement(de.JL,{value:"card",index:n,key:e.uri},i().createElement(ce.i,{latest:!1,showType:!0,entity:(0,T.B$)(e,a,e.name)})),me=({richTrack:e})=>{var n;const a=e.artistsWithRoles.items[0].artist,t=b().artistURI(a.id).toURI(),l=null===(n=a.discography)||void 0===n?void 0:n.singles;return l?i().createElement(de.JL,{value:"shelf/singles-and-eps"},i().createElement(se.P,{total:l.totalCount,title:y.ag.get("track-page.popular-singles-and-eps-by-artist",{artist:a.profile.name}),seeAllUri:`${(0,T.GJ)(a.id)}:discography:${D.VZ.Single.toLowerCase()}`,seeAllLabel:y.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:R.Z.artistShelfSpacer},(0,T.Hr)(l.items).map(((e,n)=>i().createElement(oe,{album:e,index:n,artistURI:t}))))):null},ue=({richTrack:e})=>{var n;const a=e.artistsWithRoles.items[0].artist,t=b().artistURI(a.id).toURI(),l=null===(n=e.artistsWithRoles.items[0].artist.discography)||void 0===n?void 0:n.albums;return l?i().createElement(de.JL,{value:"shelf/albums"},i().createElement(se.P,{total:l.totalCount,title:y.ag.get("track-page.popular-albums-by-artist",{artist:a.profile.name}),seeAllUri:`${(0,T.GJ)(a.id)}:discography:${D.VZ.Album.toLowerCase()}`,seeAllLabel:y.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:R.Z.artistShelfSpacer},(0,T.Hr)(l.items).map(((e,n)=>i().createElement(oe,{album:e,index:n,artistURI:t}))))):null},ke=({richTrack:e})=>{var n;const a=e.artistsWithRoles.items[0].artist,t=b().artistURI(a.id).toURI(),l=null===(n=a.discography)||void 0===n?void 0:n.popularReleasesAlbums;return l?i().createElement(de.JL,{value:"shelf/releases"},i().createElement(se.P,{total:10,title:y.ag.get("track-page.popular-releases-by-artist",{artist:a.profile.name}),seeAllUri:`${(0,T.GJ)(a.id)}:discography:${D.VZ.Album.toLowerCase()}`,seeAllLabel:y.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:R.Z.artistShelfSpacer},l.items.map(((e,n)=>i().createElement(oe,{album:e,index:n,artistURI:t}))))):null},Se=({richTrack:e})=>{var n;const a=e.artistsWithRoles.items[0].artist,l=null===(n=a.discography)||void 0===n?void 0:n.topTracks,r=(0,t.useMemo)((()=>null==l?void 0:l.items.map((n=>(0,T.X7)(n,e.uri)))),[l,e]),{usePlayContextItem:d}=(0,p.n)({uri:a.uri},{featureIdentifier:"artist"});return r?i().createElement("div",{className:m},i().createElement("div",null,i().createElement(W.Dy,{variant:W.Dy.mesto},y.ag.get("track-page.popular-tracks")),i().createElement(W.Dy,{as:"h2",variant:W.Dy.canon,color:"var(--spice-text)",className:R.Z.heading},a.profile.name)),i().createElement(ae.k,{nrTracks:r.length,initialTracks:r,usePlayContextItem:d})):null},ve=i().memo((()=>{var e,n;const{trackId:a}=(0,l.UO)(),t=b().trackURI(a).toURI(),r=(s={uri:t},(0,U.a)(P,s,c));var s,c;const o=(0,A.k)();if(r.loading||null===(e=r.data)||void 0===e||!e.trackUnion)return i().createElement(d.h,{errorMessage:y.ag.get("track-page.error")});const m=r.data.trackUnion,u=m.album,k=null==u||null===(n=u.playability)||void 0===n?void 0:n.playable;return i().createElement(i().Fragment,null,i().createElement(Se,{richTrack:m}),i().createElement(ke,{richTrack:m}),i().createElement(ue,{richTrack:m}),i().createElement(me,{richTrack:m}),i().createElement(ee,{art:u.coverArt?u.coverArt.sources[0]:void 0,disabled:!k||!o,LinkComponent:ne.Z,name:u.name,type:u.type,size:K.LARGE,uri:u.uri}),i().createElement(re,{richTrack:m}))}));var pe=a(70369),Ne=a(59713),Ee=a.n(Ne),ge=a(18172);function ye(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function he(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?ye(Object(a),!0).forEach((function(n){Ee()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ye(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}let be;!function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE"}(be||(be={}));const Fe=(0,ge.ZP)(((e,n)=>{switch(n.type){case"LYRICS_LOADING":e[n.uri]={status:be.LOADING};break;case"LYRICS_LOADED":e[n.uri]={status:be.LOADED,data:{lyrics:he({},n.response.lyrics)}};break;case"LYRICS_ERROR":e[n.uri]={status:be.UNAVAILABLE};break;default:throw new Error(`Unhandled lyrics action with type: ${n.type}`)}}));var Ie=a(80624),_e=a(98269);const fe={status:be.LOADING},Ae={status:be.UNAVAILABLE},we=i().createContext(void 0),Le=({children:e,initialState:n={}})=>{const a=i().useReducer(Fe,n);return i().createElement(we.Provider,{value:a,children:e})},Oe=e=>{const n=i().useContext(we);if(void 0===n)throw new Error("useSEOLyrics must be used within a LyricsSEOProvider");if(!e||!b().isTrack(e))return Ae;const[a,t]=n,l=a[e];return l||(t({type:"LYRICS_LOADING",uri:e}),(async e=>{const n=b().from(e);return(await _e.Zz.getSEOTrackLyrics(Ie.b.getInstance(),n.getBase62Id())).body})(e).then((n=>{t({type:"LYRICS_LOADED",uri:e,response:n})})).catch((()=>{t({type:"LYRICS_ERROR",uri:e})})),fe)},Ze="lfOVHkE8hh6Vr6ypTD42",Ce="GyRDamg8aWXRy6GR1FWj",Re=({lines:e=[]})=>0===e.length?null:i().createElement("div",null,i().createElement(W.Dy,{as:"h2",variant:W.Dy.canon,color:"var(--spice-text)",className:Ze},y.ag.get("lyrics.title")),e.map((({words:e},n)=>i().createElement(W.Dy,{as:"p",dir:"auto",variant:W.Dy.ballad,key:`lyrics-seo-line-${n}`,className:Ce},e)))),Te="O2F_4_Fn_OoTemfrveWX",De="TjCI8eKpV87pwRmaxrZw";function Ue(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function Pe(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?Ue(Object(a),!0).forEach((function(n){Ee()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}const xe=({columnCount:e,columnCountVariables:n,uri:a})=>{const{status:t,data:l}=Oe(a);return t!==be.LOADED?null:i().createElement("div",{className:$()(Te,{[De]:e<5}),style:Pe({},n)},i().createElement(Re,{lines:null==l?void 0:l.lyrics.lines}))},Me="H36eZem51UZnya3PM6S8",je="_AVwEvue51GV1Hg0d55J",Ve=({padded:e})=>i().createElement(W.Dy,{as:"p",dir:"auto",variant:W.Dy.finale,className:`${Me} ${e?je:""}`},"Lyrics powered by Musixmatch."),Be=({uri:e})=>{const{status:n}=Oe(e);return n!==be.LOADED?null:i().createElement(Ve,null)};var Ge=a(6479),ze=a.n(Ge);const Qe="d_newiTpupbxhYzEQjlP",Ye="veUQ48ktyXM1bmeaximu",We="gzA6C9jF5nSLVPeVChhF",He="YhUWXYAjDW654j_V_U_Z",$e="Qz7pAc_Rku1O8Gn2ewzM",qe="_TZXj7NvGJH8xVjR8IkU",Je="tDxS_gwAUZeKv_qpcKRz",Xe="u5uXOLHFDSYb3UUdOYkx",Ke="VMEy2rFnBEGi_9Cj6i1T",en=["size","disabled"];let nn;!function(e){e.SMALL="small",e.LARGE="large"}(nn||(nn={}));const an=e=>{const{disabled:n,images:a,LinkComponent:t,name:r,size:d,uri:s}=e,c=d===nn.SMALL,o=(0,l.k6)();return i().createElement("div",{className:$()(We,{[He]:n}),"data-testid":"track-artist-link-card"},i().createElement(q.O,{shape:q.K.CIRCLE,images:a,size:X.m$.SIZE_80,title:r,type:J.p.ARTIST}),i().createElement("div",{className:$()(qe,{[Je]:c})},i().createElement(W.Dy,{as:"span",variant:W.Dy.minuetBold,className:$e},y.ag.get("card.tag.artist")),i().createElement(t,{to:s},i().createElement(W.Dy,{as:"div",dir:"ltr",className:Xe,variant:W.Dy.balladBold},r))),i().createElement("div",{onClick:()=>{o.push(b().from(s).toURLPath(!0))},className:Ke}))},tn=e=>{let{size:n=nn.LARGE,disabled:a=!1}=e,t=ze()(e,en);return i().createElement("div",{className:$()(Qe,{[Ye]:n===nn.SMALL})},t.artists.map((e=>i().createElement(an,{key:e.id,name:e.name,uri:e.uri,images:e.images,size:n,LinkComponent:t.LinkComponent,disabled:a}))))};var ln=a(63926);const rn=(e,n)=>e.map((e=>((e,n)=>{const a=n?new URLSearchParams(n.search):void 0;return"1"===(null==a?void 0:a.get(e))})(e,n)));let dn;!function(e){e.Lyrics="lotw",e.RichTrackPages="rtp"}(dn||(dn={}));var sn=a(24872),cn=a(33607),on=a(82789),mn=a(17231),un=a(29255),kn=a(65858);const Sn=({uri:e,track:n})=>{var a,r;const d=(0,_.o)(),m=(0,A.k)(),h=(0,l.TH)(),[b,R]=(0,t.useState)(),[T,D]=rn([dn.Lyrics,dn.RichTrackPages],h),{artistsWithRoles:U,album:P,duration:x,name:M}=n,j=P.coverArt,V=P.copyright.items,B=P.courtesyLine,G=null===(a=P.date)||void 0===a?void 0:a.isoString,z=null==j||null===(r=j.extractedColors)||void 0===r?void 0:r.colorRaw.hex,Q=((null==j?void 0:j.sources)||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),Y=U.items.map((e=>{var n;return{name:e.artist.profile.name,images:((null===(n=e.artist.visuals.avatarImage)||void 0===n?void 0:n.sources)||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.artist.uri,id:e.artist.uri}})),W=n.playability.playable,H=(0,v.Y)(e),{togglePlay:$,isPlaying:q}=(0,p.n)({uri:H},{featureIdentifier:"track"}),[J,X]=(0,I.Z)(e),K=(0,t.useCallback)((async()=>{d({targetUri:e,intent:J?"unsave":"save",type:"click"});try{await X(!J)}catch{}}),[d,e,J,X]),ee=(0,mn.W6)(Z.Ow),ae=(0,mn.mX)(),te=(0,kn.v9)(un.n5),ie=(0,sn.M)(),le=(0,t.useCallback)((()=>{const n={category:"rtp_exposure_event",action:"render",label:"dwp-track-page",destination_url:e,os:(0,cn.y)(),variant:ee.toString(),context:b?"assigned":"default"},a=(0,on.x)(n);ie.send(a)}),[ie,b,ee,e]);(0,t.useEffect)((()=>{if(ae.isActive){var e;const{configuration:n}=ae;R(Boolean(null==n||null===(e=n.properties[Z.Ow])||void 0===e?void 0:e.groupId))}}),[ae]),(0,t.useEffect)((()=>{te&&"boolean"==typeof b&&le()}),[te,le,b]);return i().createElement("section",{"data-testid":"track-page"},i().createElement(pe.$,null,`${n.name} - song by ${Y.map((e=>e.name)).join(", ")}`),i().createElement(s.gF,{backgroundColor:z},i().createElement(c.W,null,i().createElement(k.$,{size:S.qE.sm,onClick:()=>$(),disabled:!W,isPlaying:q,uri:e}),i().createElement(N.i,{text:M,dragUri:e,dragLabel:M})),i().createElement(E._P,{menu:i().createElement(g.$,{uri:e})},i().createElement(s.Oz,{dragUri:e,images:Q,name:M,placeholderType:"album"})),i().createElement(s.sP,null,i().createElement(s.dy,{small:!0,uppercase:!0},y.ag.get("song")),i().createElement(E._P,{menu:i().createElement(g.$,{uri:e})},i().createElement(s.xd,{dragUri:e,dragLabel:M},M)),i().createElement(s.QS,{creators:Y,releaseDate:G,durationMilliseconds:x.totalMilliseconds,isTrack:!0}))),i().createElement(F.o,{backgroundColor:z},i().createElement(F.F,null,i().createElement(s.rn,null,i().createElement(k.$,{onClick:()=>$(),isPlaying:q,disabled:!W,size:S.qE.lg,uri:e})),i().createElement(s.rn,null,i().createElement(f.H,{isAdded:!!J,onClick:K,disabled:!m,size:f.q.md})),m?i().createElement(w.o,{uri:e,isFollowing:!!J,onFollow:K,size:w.q.md}):null,i().createElement(E.yj,{menu:i().createElement(g.$,{uri:e})},i().createElement(L.z,{label:y.ag.get("more.label.context",M)})))),i().createElement(Le,null,i().createElement("div",{className:"contentSpacing"},i().createElement("div",null,i().createElement(ln.T,{render:n=>{const a={"--column-count":n};return i().createElement(i().Fragment,null,i().createElement(C.F,{property:Z.NX,forceNewExperience:T,renderNewExperience:()=>i().createElement(xe,{columnCount:n,columnCountVariables:a,uri:e})}),i().createElement(C.F,{property:Z.Ow,forceNewExperience:D,renderNewExperience:()=>i().createElement("div",{className:o},i().createElement(tn,{artists:Y,LinkComponent:ne.r,disabled:!m}))}))},columnAware:!0})),i().createElement(C.F,{property:Z.Ow,forceNewExperience:D,renderNewExperience:()=>i().createElement(ve,null)})),i().createElement("div",{className:"contentSpacing"},i().createElement("div",{className:u},i().createElement(O.k,{copyrights:V,courtesyLine:B}),i().createElement(C.F,{property:Z.NX,forceNewExperience:T,renderNewExperience:()=>i().createElement(Be,{uri:e})})))))},vn=i().memo((()=>{var e,n,a;const{trackId:t}=(0,l.UO)(),s=b().trackURI(t).toURI(),c=(0,r.QN)({uri:s});if(c.loading||null===(e=c.data)||void 0===e||!e.trackUnion||"NotFound"===(null===(n=c.data)||void 0===n||null===(a=n.trackUnion)||void 0===a?void 0:a.__typename))return i().createElement(d.h,{errorMessage:y.ag.get("track-page.error")});const o=c.data.trackUnion;return i().createElement(Sn,{uri:s,track:o})}))},44137:(e,n,a)=>{a.d(n,{QN:()=>l});var t=a(98984);const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getTrack"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"trackFields"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackNotFound"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"contentRating"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"}}]}},{kind:"Field",name:{kind:"Name",value:"duration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalMilliseconds"}}]}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}},{kind:"Field",name:{kind:"Name",value:"reason"}}]}},{kind:"Field",name:{kind:"Name",value:"trackNumber"}},{kind:"Field",name:{kind:"Name",value:"playcount"}},{kind:"Field",name:{kind:"Name",value:"saved"}},{kind:"Field",name:{kind:"Name",value:"sharingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shareUrl"}},{kind:"Field",name:{kind:"Name",value:"shareId"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackArtists"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackAlbum"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artistsWithRoles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"role"}},{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackAlbum"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"album"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}}]}},{kind:"Field",name:{kind:"Name",value:"copyright"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"courtesyLine"}},{kind:"FragmentSpread",name:{kind:"Name",value:"trackAlbumCoverArt"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackAlbumCoverArt"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"trackNotFound"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"message"}}]}}]},l=(e,n)=>(0,t.a)(i,e,n)},75987:(e,n,a)=>{a.d(n,{W:()=>i});var t=a(70131);function i(){const{ref:e,inView:n}=(0,t.YD)({initialInView:!1}),{ref:a,inView:i}=(0,t.YD)({initialInView:!1});return{titleRef:e,tracklistRef:a,displayTopBar:!n&&i}}},44887:(e,n,a)=>{a.d(n,{O:()=>I,K:()=>F});var t=a(59713),i=a.n(t),l=a(67294),r=a.n(l),d=a(94184),s=a.n(d),c=a(80418),o=a(7469);const m={xsmall:"BhgGgalJ_Tw9RhHLULnL",small:"vRDvp_8qlFh9hMHvQoF1",medium:"mUNTaB45y_9NWKMMxJxT",large:"o8T0TWMRBvzJhyB5YMTo",square:"D_5KHnFPim7Z0uUZ58hh",circle:"bWZ1J5MuuXiuD8TE_J48",image:"_Wml5lFel3UAq5t6_r1s",imageContainer:"i_5qoRwsCqgB8HGwxxLB",imagePlaceholder:"fWuNbBuPVfLXy38zQFO8"},u="YmZjwhkLpfRHpBkaYGFk",k="hvtJoHFuDehlkMSn3YQp";var S=a(42781),v=a(45322),p=a(68101),N=a(28151),E=a(79458),g=a(68251);const y=({title:e,type:n,className:a})=>{const t=(e=>{switch(e){case S.p.ALBUM:return r().createElement(v.c,{className:k});case S.p.ARTIST:return r().createElement(p.a,{className:k});case S.p.SHOW:case S.p.EPISODE:return r().createElement(N.J,{className:k});case S.p.USER:return r().createElement(E.f,{className:k});case S.p.PLAYLIST:default:return r().createElement(g.U,{className:k})}})(n);return r().createElement("div",{"aria-label":e,className:s()(u,a)},t)};function h(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function b(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?h(Object(a),!0).forEach((function(n){i()(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}let F;!function(e){e[e.ROUNDED_CORNERS=0]="ROUNDED_CORNERS",e[e.CIRCLE=1]="CIRCLE",e[e.SQUARE=2]="SQUARE"}(F||(F={}));const I=r().memo((({type:e,title:n,images:a=[],shape:t=F.SQUARE,size:i=o.m$.SIZE_56,className:l,onContextMenu:d=(()=>{}),onTouchStart:u=(()=>{}),onTouchEnd:k=(()=>{})})=>{const S=function(e=[]){const n=e.filter((e=>Boolean(e.width))),a=n.filter((e=>e.url&&e.width&&e.width>=o.eM[o.m$.SIZE_56])).sort(((e,n)=>e.width-n.width));return a.length?a:n}(a),v=S.length>0?S[0].url:"",p=S.map((({url:e,width:n})=>`${e} ${n/2}w, ${e} ${n}w`)).join(", "),N=()=>({[m.xsmall]:o.pj.includes(i),[m.small]:o.wL.includes(i),[m.medium]:o.VZ.includes(i),[m.large]:o.B_.includes(i)});return r().createElement("div",{className:s()(m.imageContainer,l),onContextMenu:d,onTouchStart:u,onTouchEnd:k,style:{width:`${o.eM[i]}px`,height:`${o.eM[i]}px`}},r().createElement(c.E,{loading:"lazy",src:v,alt:n,ariaHidden:!0,className:s()(m.image,b({[m.roundedCorners]:t===F.ROUNDED_CORNERS,[m.circle]:t===F.CIRCLE,[m.square]:t===F.SQUARE},N())),srcSet:p||void 0,testid:"entity-image"},r().createElement(y,{title:n,type:e,className:s()(b({[m.roundedCorners]:t===F.ROUNDED_CORNERS,[m.circle]:t===F.CIRCLE,[m.square]:t===F.SQUARE},N()))})))}))},7469:(e,n,a)=>{let t;a.d(n,{m$:()=>t,eM:()=>i,pj:()=>l,wL:()=>r,VZ:()=>d,B_:()=>s}),function(e){e[e.SIZE_48=0]="SIZE_48",e[e.SIZE_56=1]="SIZE_56",e[e.SIZE_64=2]="SIZE_64",e[e.SIZE_72=3]="SIZE_72",e[e.SIZE_80=4]="SIZE_80",e[e.SIZE_96=5]="SIZE_96",e[e.SIZE_104=6]="SIZE_104",e[e.SIZE_112=7]="SIZE_112",e[e.SIZE_120=8]="SIZE_120",e[e.SIZE_128=9]="SIZE_128",e[e.SIZE_136=10]="SIZE_136",e[e.SIZE_144=11]="SIZE_144",e[e.SIZE_152=12]="SIZE_152",e[e.SIZE_160=13]="SIZE_160",e[e.SIZE_168=14]="SIZE_168",e[e.SIZE_176=15]="SIZE_176",e[e.SIZE_184=16]="SIZE_184",e[e.SIZE_200=17]="SIZE_200",e[e.SIZE_232=18]="SIZE_232"}(t||(t={}));const i={[t.SIZE_48]:48,[t.SIZE_56]:56,[t.SIZE_64]:64,[t.SIZE_72]:72,[t.SIZE_80]:80,[t.SIZE_96]:96,[t.SIZE_104]:104,[t.SIZE_112]:112,[t.SIZE_120]:120,[t.SIZE_128]:128,[t.SIZE_136]:136,[t.SIZE_144]:144,[t.SIZE_152]:152,[t.SIZE_160]:160,[t.SIZE_168]:168,[t.SIZE_176]:176,[t.SIZE_184]:184,[t.SIZE_200]:200,[t.SIZE_232]:232},l=[t.SIZE_48,t.SIZE_56,t.SIZE_64],r=[t.SIZE_72,t.SIZE_80,t.SIZE_96,t.SIZE_104,t.SIZE_112,t.SIZE_120,t.SIZE_128],d=[t.SIZE_136,t.SIZE_144,t.SIZE_152,t.SIZE_160,t.SIZE_168,t.SIZE_176],s=[t.SIZE_184,t.SIZE_200,t.SIZE_232]},41734:(e,n,a)=>{a.d(n,{Z:()=>t});const t={topBar:"O4qKOWhay1BijL1nmuoa",topBarScrolled:"dPP9Qk8sKPhysA98pu0t",artistName:"KnTkx9qxM4ibL_CsS273",button:"_GMXkTJ_akJ_B7Q57aWT",active:"GDSTnZ541QdoIiq0pemm",tracklist:"BOHLWPtEqzwOFfv4AiEx",cardGrid:"jZpdz6RZAsIAGkQoOjSq",headerContainer:"EleePtdm5RV9_VaqbeAP",firstAlbum:"dP0pl9Cm5UY6mzYO_M2B",headerImage:"KG_zE1Qa_A6sl2hesgb0",headerMetadata:"ojl40VggYCZ4VLIAwHIG",headerButtons:"t615M7_KVG_S_Nfn6tMU",headerTitle:"zkBKfxDaxiC23LHkCwcx"}},68569:(e,n,a)=>{a.d(n,{Z:()=>t});const t={artistOverviewContent:"DFOYAbsPwHbI_GsaV_ij",artistOverviewContainer:"A6AHItkA4zI_ALnLhFkA",popularTracks:"GQl9Zh_XBUPHxsEER8iN",artistShelfSpacer:"kNoOWIq34Rn3BYI7hT_C",sideBlock:"I77ko0S4NL73RtPLJ3SB",popularTracksBlock:"dTpEFtIQUQDmsbEVLE0c",about:"CQCvmRmB86VqFiA09MDv",events:"uyC6KOHkQJEBbZOxK1IJ",merch:"_puU4bnsV7BweiDSf0x6",merchSmall:"MyLwx8lFN1JhkFv0sYIE",overview:"U3HThMCh2N20VtgvHfna",heading:"higVMwvpd4hpYnSOahp_"}}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map